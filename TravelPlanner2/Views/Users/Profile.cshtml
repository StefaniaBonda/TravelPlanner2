@model TravelPlanner2.Models.User

@{
    ViewBag.Title = "Your Profile";
    Layout = "~/Views/Shared/LoggedInLayout.cshtml";
}

@section Styles {
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: #fdfaf3;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-image: url('/Content/planes-bgg.png');
            background-size: cover;
            background-repeat: repeat;
            background-attachment: fixed;
        }
        .profile-card {
            background-color: #fdfaf3;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 500px;
            margin: 60px auto;
            text-align: center;
        }

        .profile-picture {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
            border: 3px solid #4a5a6a;
        }

        .btn-custom {
            background-color: #4a5a6a;
            color: white;
            border-radius: 25px;
            padding: 10px 25px;
            font-weight: 500;
            margin: 5px;
        }

            .btn-custom:hover {
                background-color: #0a2342;
                color: #fff;
            }
    </style>
}

<div class="profile-card">
    <img src="@Url.Content(string.IsNullOrEmpty(Model.ProfilePicturePath) ? "~/Uploads/ProfilePictures/default.png" : Model.ProfilePicturePath)"
         alt="Profile Picture"
         class="profile-picture"
         onerror="this.src='/Uploads/ProfilePictures/default.png';" />


    <h2 class="text-primary fw-bold mb-3">Your Profile</h2>

    <p><strong>Name:</strong> @Model.Name</p>
    <p><strong>Email:</strong> @Model.Email</p>
    <p><strong>Role:</strong> @Model.Role</p>

    @if (!string.IsNullOrEmpty(Model.ProfilePicturePath))
    {
        <p class="text-muted small">Image: @System.IO.Path.GetFileName(Model.ProfilePicturePath)</p>
    }

    <a href="@Url.Action("EditProfile", "Users")" class="btn btn-custom">Edit Profile</a>
    <a href="@Url.Action("Index", "Home")" class="btn btn-outline-danger">Log out</a>
</div>
